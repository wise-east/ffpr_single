<!DOCTYPE html>
<html>
<head>
	<title>
		Write your fast food press release!
	</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<script src="https://code.jquery.com/jquery-3.4.1.slim.js" integrity="sha256-BTlTdQO9/fascB1drekrDVkaKd9PkwBymMlHOiG+qLI=" crossorigin="anonymous"></script>


	<style type="text/css">
		
		.article{
			text-align: justify;
		}

		.hidden{
			visibility: hidden;
		}

		.heading{
			margin-top: 20px;
			text-align: center
		}

		.title{
			margin-top: 30px;
		}

		.date{
			opacity: 0.5;
		}

		.paragraph{
			margin-bottom: 15px;
		}

		.btn{
			margin: auto;

		}
	</style>
</head>
<body>

	<div class="container">
		
		<div class="row justify-content-center">
			
			<div class="col-12 heading">
				<h2> Your article </h2>

			</div>

			<div class="col-12 title">
				<h3> {{title}}</h3>
			</div>

			<div class="col-12 article hidden">
				{{output}}
			</div>

			<div class="col-12 text-center">
				<form method="GET" action="{{ url_for('main') }}">
					<button type="submit" class="btn btn-primary"> Go back </button>
				</form>
			</div>

		</div>
	</div>
</body>

<script type="text/javascript">


	
	$(document).ready(function(){
		article = $(".article").html()
		$(".article").html("")

		// add date to the article 
		let today = new Date()
		var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
		console.log(date)
		date_div = $("<div class='date'>").html(date)
		$(".article").append(date_div)


		// divide article into paragraphs
		console.log(article)
		paragraphs = article.split("\n")
		console.log(paragraphs.length)
		console.log(paragraphs[1])
		for (let i =0; i < paragraphs.length; i++){
			if (paragraphs[i].trim() != ""){
				div = $("<div class='paragraph'>").html(paragraphs[i].trim())
				$(".article").append(div)
			}
		}

		$(".article").removeClass("hidden")
	});

</script>
</html>